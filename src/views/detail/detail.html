{% extends "../common/layout.html" %}

{% block additionalStyles %}
    <style>
        :root {
            --title-font: "Source Sans Pro", sans-serif;
            --body-font: 'PT Serif', serif;
        }

        /** new styles **/
        .ufo--case-study-container {
            --h1Font: "Source Sans Pro";
            --h1Color: #353738;
            --h1Weight: bold;
            --h1Style: normal;

            --h1Size: 24px;
            --h1Height: 25px;

            --h2Font: "Source Sans Pro";
            --h2Color: #353738;
            --h2Weight: normal;
            --h2Style: italic;

            --h2Size: 28px;
            --h2Height: 30px;

            --h3Font: "Source Sans Pro";
            --h3Color: #353738;
            --h3Weight: bold;
            --h3Style: normal;

            --h3Size: 21px;
            --h3Height: 25px;

            --h4Font: "Source Sans Pro";
            --h4Color: #353738;
            --h4Weight: normal;
            --h4Style: normal;

            --h4Size: 17px;
            --h4Height: 20px;

            --p1Font: "PT Serif";
            --p1Color: #353738;
            --p1Weight: normal;
            --p1Style: normal;

            --p1Size: 16px;
            --p1Height: 21px;

            --p2Font: "PT Serif";
            --p2Color: #7b7e80;
            --p2Weight: normal;
            --p2Style: normal;

            --p2Size: 16px;
            --p2Height: 16px;

            --projectTitleFont: "Source Sans Pro";
            --projectTitleColor: #ffffff;
            --projectTitleWeight: bold;
            --projectTitleStyle: normal;

            --projectTitleSize: 35px;
            --projectTitleHeight: 36px;

            --projectSubTitleFont: "PT Serif";
            --projectSubTitleColor: #ffffff;
            --projectSubTitleWeight: normal;
            --projectSubTitleStyle: normal;

            --projectSubTitleSize: 16px;
            --projectSubTitleHeight: 18px;

        }

        @media (min-width: 576px) {
            .ufo--case-study-container {
                --h3Size: 25px;
                --h3Height: 28px;
                --p1Size: 18px;
                --p1Height: 21px;
                --projectTitleSize: 48px;
                --projectSubTitleSize: 22px;
                --projectTitleHeight: 51px;
                --projectSubTitleHeight: 25px;
            }
        }

        @media (min-width: 768px) {
            .ufo--case-study-container {
                --h1Size: 60px;
                --h1Height: 63px;
                --h2Size: 40px;
                --h2Height: 43px;
                --h3Size: 30px;
                --h3Height: 36px;
                --h4Size: 24px;
                --h4Height: 29px;
                --p1Size: 18px;
                --p1Height: 30px;
                --p2Size: 16px;
                --p2Height: 19px;
                --projectTitleSize: 88px;
                --projectTitleHeight: 91px;
                --projectSubTitleSize: 22px;
                --projectSubTitleHeight: 25px;
            }
        }




        .p_section--header-main .text-container h1 {
            text-align: center;
        }
        .p_section--header-main .text-container h2 {
            text-align: center;
        }
        @media (min-width: 992px) {
            .p_section--header-main .text-container {
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        }



    </style>
{% endblock %}

{% block body %}
    <main>
        <div class="ufo--case-study-container project project_with_theme">
            <section class="ufo--case-study-section p_section p_section--header-main header-main">
                <div class="ufo--p-container-fluid">
                    <div class="project-owner">
                        <div class="owner">
                            <div class="owner-info ">
                                <div class="owner-name">
                                    <a href="{{config.url}}" class="previous round">&#8249;</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ufo--p-container-fluid">
                    <div class="image-container image-container--fluid">
                        <div class="main-grad"></div>
                        <img src="{{entry.cover}}" alt="">
                    </div>

                    <div class="text-wrapper">
                        <div class="text-container txt-on-img">
                            <h1>{{entry.name}}</h1>
                            <h2>{{entry.subtitle}}</h2>
                        </div>
                    </div>
                </div>

            </section>
            <section class="ufo--case-study-section p_section p_section--text text" style=" ">
                <div class="ufo--p-container-fluid">
                    <div class="text-container">
                        <div class="text">
                            <h3>Project description</h3>
                            <p>{{entry.description}}</p>
<!--                            <ul>-->
<!--                                <li>What was the product you worked on?</li>-->
<!--                                <li>Who was the target audience? What problems do the product solve for them?</li>-->
<!--                                <li>What was the business challenge your team wanted to solve with this project?</li>-->
<!--                                <li>What was your role? Who did you work with?</li>-->
<!--                            </ul>-->
                        </div>
                    </div>
                </div>
            </section>

            <div class="live-preview-button-container">
                <a href="{{entry.url}}" id="live-preview-btn" target="_blank" class="live-preview-btn">Live preview</a>
            </div>

            <section class="ufo--case-study-section p_section p_section--text text" style=" ">
                <div class="ufo--p-container-fluid">
                    <div class="text-container">
                        <div class="text">
                            <h3>Screenshots</h3>
                        </div>
                    </div>
                </div>
            </section>

            {% for image in entry.images %}
                {% if image.mobile %}
                    <section class="ufo--case-study-section p_section p_section--horizontal-split flipped-false mockup-on" style=" ">
                        <div class="ufo--p-container-fluid">
                            <div class="media-container display-mode--default" style=" ">
                                <div class="mockup--mobile--semi-realistic--light--no-notch--shadow">
                                    <div class="ufo-mockup--display">
                                        <div class="ufo-mockup--screen">
                                            <div class="ufo-mockup--scroller ps">
                                                <div class="image">
                                                    <img src="{{image.path}}" alt="Screenshot of {{entry.name}}">
                                                </div>
                                                <div class="ps__rail-x" style="left: 0px; bottom: 2px;">
                                                    <div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                                                </div>
                                                <div class="ps__rail-y" style="top: 0px; right: 0px;">
                                                    <div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="ufo-mockup--frame">
                                            <img src="public/img/mobile.svg">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                {% else %}
                    <section id="section-7" class="ufo--case-study-section p_section p_section--image image " style=" ">
                        <div class="ufo--p-container-fluid">
                            <div class="media-container image-container--fluid display-mode--default  " style=" ">
                                <div class="media-box  ">
                                    <div class="image">
                                        <img src="{{image.path}}" alt="Screenshot of {{entry.name}}">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                {% endif %}
            {% endfor %}
        </div>
        <div class="scroll-to-top" onclick="scrollPageToTop()"></div>
    </main>
    <footer class="project-footer">

        <div class="footer-share">
            <div class="ufo--p-container-fluid">
                <div class="footer-share-content ">
                    <div class="owner">
                        <div class="owner-info">
                            <div class="owner-name">{{config.name}}</div>
                            <div class="owner-company">{{config.subtitle}}</div>
                        </div>
                        <div class="footer-links">
                            <a href="mailto:{{config.contact.email}}" id="footer-contact-button" class="footer-btn">Contact</a>
                        </div>
                    </div>
                    <div class="footer-share-links">
                        Share
                        <a href="https://www.facebook.com/sharer.php?u={{og.url}}" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a>
                        <a href="https://twitter.com/share?url={{og.url}}" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a>
                        <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{og.url}}" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
      function scrollPageToTop() {
        let isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;
        if (isSmoothScrollSupported) {
          window.scroll({
            top: 0,
            left: 0,
            behavior: 'smooth'
          });
        } else {
          smoothScroll(0, -1);
        }
      }

      function smoothScroll(targetOffset, direction) {
        let currentOffset = window.pageYOffset || document.body.scrollTop;
        let difference = Math.abs(currentOffset - targetOffset);
        if (!difference) return;
        let frames = parseInt(400 / 1000 * 60);
        let tick = 400 / frames;
        let perFrame = difference / frames;
        let timer = setInterval(() => {
          if (direction > 0) {
            if (window.pageYOffset >= targetOffset) {
              scrollBy(0, (targetOffset - difference) * direction);
              clearInterval(timer);
              return;
            }
          } else {
            if (window.pageYOffset <= 0) {
              scrollBy(0, difference * direction);
              clearInterval(timer);
              return;
            }
          }
          scrollBy(0, perFrame * direction);
          if (window.pageYOffset + window.innerHeight === document.body.scrollHeight) clearInterval(timer);
        }, tick);
      }

      function scrollDistance() {
        if (window.pageYOffset > 1200) {
          if(document.querySelector('.scroll-to-top').classList.contains('visible')) return;
          document.querySelector('.scroll-to-top').classList.add("visible");
        } else {
          document.querySelector('.scroll-to-top').classList.remove("visible");
        }
      }

      document.addEventListener('scroll', scrollDistance);
    </script>
{% endblock %}